{"ast":null,"code":"var _jsxFileName = \"/home/parteek/ppl/src/Component/Post.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\n\nfunction Post(props) {\n  let history = useHistory();\n  useEffect(() => {\n    if (!localStorage.getItem('Token')) {\n      history.push('./login');\n    }\n\n    getData();\n  }, []);\n  var skip = 0;\n\n  window.onscroll = function (ev) {\n    if (window.innerHeight + window.pageYOffset >= document.body.offsetHeight + 85) {\n      skip = skip + 2;\n\n      const getData = () => axios({\n        method: 'post',\n        url: 'http://localhost:5000/getPost',\n        data: {\n          skip: skip\n        }\n      }).then(result => {\n        props.setresultAllPost(result.data);\n      });\n\n      getData();\n    }\n  };\n\n  const getData = () => axios({\n    method: 'post',\n    url: 'http://localhost:5000/getPost'\n  }).then(result => {\n    props.setresultAllPost(result.data);\n  }); /// code for likes\n\n\n  var valForLike = false;\n  var valForunlike = false;\n\n  const handleLike = (postId, userId) => {\n    var value = document.getElementById(`likePost_${postId}_${userId}`).innerHTML;\n\n    if (valForLike === false) {\n      document.getElementById(`likePost_${postId}_${userId}`).innerHTML = parseInt(value) + 1;\n      valForLike = true;\n    } else {\n      document.getElementById(`likePost_${postId}_${userId}`).innerHTML = parseInt(value) - 1;\n      valForLike = false;\n    }\n\n    axios({\n      method: 'Post',\n      url: 'http://localhost:5000/like',\n      data: {\n        postId,\n        userId\n      }\n    }).then(result => {\n      props.setresultAllPost(result.data);\n    });\n  }; // code for unlike\n\n\n  const handleUnLike = (postId, userId) => {\n    var value = document.getElementById(`unlikePost_${postId}_${userId}`).innerHTML;\n\n    if (valForunlike === false) {\n      document.getElementById(`unlikePost_${postId}_${userId}`).innerHTML = parseInt(value) + 1;\n      valForunlike = true;\n    } else {\n      document.getElementById(`unlikePost_${postId}_${userId}`).innerHTML = parseInt(value) - 1;\n      valForunlike = false;\n    }\n\n    axios({\n      method: 'Post',\n      url: 'http://localhost:5000/unlike',\n      data: {\n        postId,\n        userId\n      }\n    }).then(result => {\n      props.setresultAllPost(result.data);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, props.resultAllPost.length !== 0 ? props.resultAllPost.map(val => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contnt_2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"div_a\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"div_title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, val.title), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btm_rgt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btm_arc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 19\n    }\n  }, val.category)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"div_top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"div_top_lft\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"images/img_6.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }), val.fullName), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"div_top_rgt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"span_date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }, val.date), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"span_time\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, val.time))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"div_image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: val.image,\n    alt: \"pet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"div_btm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btm_list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"btn_icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"images/icon_001.png\",\n    alt: \"share\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 29\n    }\n  })), \"Share\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"btn_icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"images/icon_002.png\",\n    alt: \"share\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 29\n    }\n  })), \"Flag\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"btn_icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"images/icon_004.png\",\n    alt: \"share\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 29\n    }\n  })), \"4 Comments\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"javascript:void(0)\",\n    onClick: () => handleLike(val._id, JSON.parse(localStorage.getItem('LogInUser'))._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"btn_icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"images/icon_003.png\",\n    alt: \"share\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 29\n    }\n  })), \"Likes\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"like_count\",\n    style: {\n      marginRight: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"lft_cnt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"mid_cnt\",\n    id: `likePost_${val._id}_${JSON.parse(localStorage.getItem('LogInUser'))._id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 25\n    }\n  }, val.like.length), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"rit_cnt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"javascript:void(0)\",\n    onClick: () => handleUnLike(val._id, JSON.parse(localStorage.getItem('LogInUser'))._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"btn_icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"images/icon_003.png\",\n    alt: \"share\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 29\n    }\n  })), \"Unlike\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"like_count\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"lft_cnt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"mid_cnt \",\n    id: `unlikePost_${val._id}_${JSON.parse(localStorage.getItem('LogInUser'))._id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 25\n    }\n  }, val.unlike.length), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"rit_cnt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 25\n    }\n  })))))))) : '');\n}\n\nexport default Post;","map":{"version":3,"sources":["/home/parteek/ppl/src/Component/Post.jsx"],"names":["React","useEffect","useState","useHistory","axios","Post","props","history","localStorage","getItem","push","getData","skip","window","onscroll","ev","innerHeight","pageYOffset","document","body","offsetHeight","method","url","data","then","result","setresultAllPost","valForLike","valForunlike","handleLike","postId","userId","value","getElementById","innerHTML","parseInt","handleUnLike","resultAllPost","length","map","val","title","category","fullName","date","time","image","_id","JSON","parse","marginRight","like","unlike"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,SAASC,IAAT,CAAcC,KAAd,EAAqB;AACnB,MAAIC,OAAO,GAAGJ,UAAU,EAAxB;AACAF,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACO,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAL,EAAoC;AAClCF,MAAAA,OAAO,CAACG,IAAR,CAAa,SAAb;AACD;;AACDC,IAAAA,OAAO;AACR,GALQ,EAKN,EALM,CAAT;AAMA,MAAIC,IAAI,GAAG,CAAX;;AACAC,EAAAA,MAAM,CAACC,QAAP,GAAkB,UAAUC,EAAV,EAAc;AAC9B,QACEF,MAAM,CAACG,WAAP,GAAqBH,MAAM,CAACI,WAA5B,IACAC,QAAQ,CAACC,IAAT,CAAcC,YAAd,GAA6B,EAF/B,EAGE;AACAR,MAAAA,IAAI,GAAGA,IAAI,GAAG,CAAd;;AACA,YAAMD,OAAO,GAAG,MACdP,KAAK,CAAC;AACJiB,QAAAA,MAAM,EAAE,MADJ;AAEJC,QAAAA,GAAG,EAAE,+BAFD;AAGJC,QAAAA,IAAI,EAAE;AAAEX,UAAAA,IAAI,EAAEA;AAAR;AAHF,OAAD,CAAL,CAIGY,IAJH,CAISC,MAAD,IAAY;AAClBnB,QAAAA,KAAK,CAACoB,gBAAN,CAAuBD,MAAM,CAACF,IAA9B;AACD,OAND,CADF;;AAQAZ,MAAAA,OAAO;AACR;AACF,GAhBD;;AAkBA,QAAMA,OAAO,GAAG,MACdP,KAAK,CAAC;AACJiB,IAAAA,MAAM,EAAE,MADJ;AAEJC,IAAAA,GAAG,EAAE;AAFD,GAAD,CAAL,CAGGE,IAHH,CAGSC,MAAD,IAAY;AAClBnB,IAAAA,KAAK,CAACoB,gBAAN,CAAuBD,MAAM,CAACF,IAA9B;AACD,GALD,CADF,CA3BmB,CAmCnB;;;AACA,MAAII,UAAU,GAAG,KAAjB;AACA,MAAIC,YAAY,GAAG,KAAnB;;AACA,QAAMC,UAAU,GAAG,CAACC,MAAD,EAASC,MAAT,KAAoB;AACrC,QAAIC,KAAK,GAAGd,QAAQ,CAACe,cAAT,CAAyB,YAAWH,MAAO,IAAGC,MAAO,EAArD,EACTG,SADH;;AAEA,QAAIP,UAAU,KAAK,KAAnB,EAA0B;AACxBT,MAAAA,QAAQ,CAACe,cAAT,CAAyB,YAAWH,MAAO,IAAGC,MAAO,EAArD,EAAwDG,SAAxD,GACEC,QAAQ,CAACH,KAAD,CAAR,GAAkB,CADpB;AAEAL,MAAAA,UAAU,GAAG,IAAb;AACD,KAJD,MAIO;AACLT,MAAAA,QAAQ,CAACe,cAAT,CAAyB,YAAWH,MAAO,IAAGC,MAAO,EAArD,EAAwDG,SAAxD,GACEC,QAAQ,CAACH,KAAD,CAAR,GAAkB,CADpB;AAEAL,MAAAA,UAAU,GAAG,KAAb;AACD;;AACDvB,IAAAA,KAAK,CAAC;AACJiB,MAAAA,MAAM,EAAE,MADJ;AAEJC,MAAAA,GAAG,EAAE,4BAFD;AAGJC,MAAAA,IAAI,EAAE;AAAEO,QAAAA,MAAF;AAAUC,QAAAA;AAAV;AAHF,KAAD,CAAL,CAIGP,IAJH,CAISC,MAAD,IAAY;AAClBnB,MAAAA,KAAK,CAACoB,gBAAN,CAAuBD,MAAM,CAACF,IAA9B;AACD,KAND;AAOD,GAnBD,CAtCmB,CA0DnB;;;AACA,QAAMa,YAAY,GAAG,CAACN,MAAD,EAASC,MAAT,KAAoB;AACvC,QAAIC,KAAK,GAAGd,QAAQ,CAACe,cAAT,CAAyB,cAAaH,MAAO,IAAGC,MAAO,EAAvD,EACTG,SADH;;AAEA,QAAIN,YAAY,KAAK,KAArB,EAA4B;AAC1BV,MAAAA,QAAQ,CAACe,cAAT,CAAyB,cAAaH,MAAO,IAAGC,MAAO,EAAvD,EAA0DG,SAA1D,GACEC,QAAQ,CAACH,KAAD,CAAR,GAAkB,CADpB;AAEAJ,MAAAA,YAAY,GAAG,IAAf;AACD,KAJD,MAIO;AACLV,MAAAA,QAAQ,CAACe,cAAT,CAAyB,cAAaH,MAAO,IAAGC,MAAO,EAAvD,EAA0DG,SAA1D,GACEC,QAAQ,CAACH,KAAD,CAAR,GAAkB,CADpB;AAEAJ,MAAAA,YAAY,GAAG,KAAf;AACD;;AACDxB,IAAAA,KAAK,CAAC;AACJiB,MAAAA,MAAM,EAAE,MADJ;AAEJC,MAAAA,GAAG,EAAE,8BAFD;AAGJC,MAAAA,IAAI,EAAE;AAAEO,QAAAA,MAAF;AAAUC,QAAAA;AAAV;AAHF,KAAD,CAAL,CAIGP,IAJH,CAISC,MAAD,IAAY;AAClBnB,MAAAA,KAAK,CAACoB,gBAAN,CAAuBD,MAAM,CAACF,IAA9B;AACD,KAND;AAOD,GAnBD;;AAqBA,sBACE,0CACGjB,KAAK,CAAC+B,aAAN,CAAoBC,MAApB,KAA+B,CAA/B,GACGhC,KAAK,CAAC+B,aAAN,CAAoBE,GAApB,CAAyBC,GAAD,iBACtB;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA4BA,GAAG,CAACC,KAAhC,CADF,eAEE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0BD,GAAG,CAACE,QAA9B,CADF,CAFF,eAKE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAC,kBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGF,GAAG,CAACG,QAFP,CADF,eAKE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6BH,GAAG,CAACI,IAAjC,CADF,eAEE;AAAM,IAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6BJ,GAAG,CAACK,IAAjC,CAFF,CALF,CALF,eAeE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAEL,GAAG,CAACM,KAAd;AAAqB,IAAA,GAAG,EAAC,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAfF,eAkBE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,IAAI,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAC,qBAAT;AAA+B,IAAA,GAAG,EAAC,OAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,UADF,CADF,eASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,IAAI,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAC,qBAAT;AAA+B,IAAA,GAAG,EAAC,OAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,SADF,CATF,eAiBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,IAAI,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAC,qBAAT;AAA+B,IAAA,GAAG,EAAC,OAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eADF,CAjBF,eAyBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,oBADP;AAEE,IAAA,OAAO,EAAE,MACPjB,UAAU,CACRW,GAAG,CAACO,GADI,EAERC,IAAI,CAACC,KAAL,CAAWzC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,EAA8CsC,GAFtC,CAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBASE;AAAM,IAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAC,qBAAT;AAA+B,IAAA,GAAG,EAAC,OAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CATF,UADF,CAzBF,eAyCE;AAAK,IAAA,SAAS,EAAC,YAAf;AAA4B,IAAA,KAAK,EAAE;AAAEG,MAAAA,WAAW,EAAE;AAAf,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AACE,IAAA,SAAS,EAAC,SADZ;AAEE,IAAA,EAAE,EAAG,YAAWV,GAAG,CAACO,GAAI,IACtBC,IAAI,CAACC,KAAL,CAAWzC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,EAA8CsC,GAC/C,EAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMGP,GAAG,CAACW,IAAJ,CAASb,MANZ,CAFF,eAUE;AAAM,IAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CAzCF,eAqDE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,oBADP;AAEE,IAAA,OAAO,EAAE,MACPF,YAAY,CACVI,GAAG,CAACO,GADM,EAEVC,IAAI,CAACC,KAAL,CAAWzC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,EAA8CsC,GAFpC,CAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBASE;AAAM,IAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAC,qBAAT;AAA+B,IAAA,GAAG,EAAC,OAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CATF,WADF,CArDF,eAqEE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AACE,IAAA,SAAS,EAAC,UADZ;AAEE,IAAA,EAAE,EAAG,cAAaP,GAAG,CAACO,GAAI,IACxBC,IAAI,CAACC,KAAL,CAAWzC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,EAA8CsC,GAC/C,EAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMGP,GAAG,CAACY,MAAJ,CAAWd,MANd,CAFF,eAUE;AAAM,IAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CArEF,CADF,CADF,CAlBF,CADF,CADF,CADH,GA8GG,EA/GN,CADF;AAmHD;;AACD,eAAejC,IAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport axios from 'axios'\nfunction Post(props) {\n  let history = useHistory()\n  useEffect(() => {\n    if (!localStorage.getItem('Token')) {\n      history.push('./login')\n    }\n    getData()\n  }, [])\n  var skip = 0\n  window.onscroll = function (ev) {\n    if (\n      window.innerHeight + window.pageYOffset >=\n      document.body.offsetHeight + 85\n    ) {\n      skip = skip + 2\n      const getData = () =>\n        axios({\n          method: 'post',\n          url: 'http://localhost:5000/getPost',\n          data: { skip: skip },\n        }).then((result) => {\n          props.setresultAllPost(result.data)\n        })\n      getData()\n    }\n  }\n\n  const getData = () =>\n    axios({\n      method: 'post',\n      url: 'http://localhost:5000/getPost',\n    }).then((result) => {\n      props.setresultAllPost(result.data)\n    })\n\n  /// code for likes\n  var valForLike = false\n  var valForunlike = false\n  const handleLike = (postId, userId) => {\n    var value = document.getElementById(`likePost_${postId}_${userId}`)\n      .innerHTML\n    if (valForLike === false) {\n      document.getElementById(`likePost_${postId}_${userId}`).innerHTML =\n        parseInt(value) + 1\n      valForLike = true\n    } else {\n      document.getElementById(`likePost_${postId}_${userId}`).innerHTML =\n        parseInt(value) - 1\n      valForLike = false\n    }\n    axios({\n      method: 'Post',\n      url: 'http://localhost:5000/like',\n      data: { postId, userId },\n    }).then((result) => {\n      props.setresultAllPost(result.data)\n    })\n  }\n  // code for unlike\n  const handleUnLike = (postId, userId) => {\n    var value = document.getElementById(`unlikePost_${postId}_${userId}`)\n      .innerHTML\n    if (valForunlike === false) {\n      document.getElementById(`unlikePost_${postId}_${userId}`).innerHTML =\n        parseInt(value) + 1\n      valForunlike = true\n    } else {\n      document.getElementById(`unlikePost_${postId}_${userId}`).innerHTML =\n        parseInt(value) - 1\n      valForunlike = false\n    }\n    axios({\n      method: 'Post',\n      url: 'http://localhost:5000/unlike',\n      data: { postId, userId },\n    }).then((result) => {\n      props.setresultAllPost(result.data)\n    })\n  }\n\n  return (\n    <>\n      {props.resultAllPost.length !== 0\n        ? props.resultAllPost.map((val) => (\n            <div className=\"contnt_2\">\n              <div className=\"div_a\">\n                <div className=\"div_title\">{val.title}</div>\n                <div className=\"btm_rgt\">\n                  <div className=\"btm_arc\">{val.category}</div>\n                </div>\n                <div className=\"div_top\">\n                  <div className=\"div_top_lft\">\n                    <img src=\"images/img_6.png\" />\n                    {val.fullName}\n                  </div>\n                  <div className=\"div_top_rgt\">\n                    <span className=\"span_date\">{val.date}</span>\n                    <span className=\"span_time\">{val.time}</span>\n                  </div>\n                </div>\n                <div className=\"div_image\">\n                  <img src={val.image} alt=\"pet\" />\n                </div>\n                <div className=\"div_btm\">\n                  <div className=\"btm_list\">\n                    <ul>\n                      <li>\n                        <a href=\"#\">\n                          <span className=\"btn_icon\">\n                            <img src=\"images/icon_001.png\" alt=\"share\" />\n                          </span>\n                          Share\n                        </a>\n                      </li>\n                      <li>\n                        <a href=\"#\">\n                          <span className=\"btn_icon\">\n                            <img src=\"images/icon_002.png\" alt=\"share\" />\n                          </span>\n                          Flag\n                        </a>\n                      </li>\n                      <li>\n                        <a href=\"#\">\n                          <span className=\"btn_icon\">\n                            <img src=\"images/icon_004.png\" alt=\"share\" />\n                          </span>\n                          4 Comments\n                        </a>\n                      </li>\n                      <li>\n                        <a\n                          href=\"javascript:void(0)\"\n                          onClick={() =>\n                            handleLike(\n                              val._id,\n                              JSON.parse(localStorage.getItem('LogInUser'))._id,\n                            )\n                          }\n                        >\n                          <span className=\"btn_icon\">\n                            <img src=\"images/icon_003.png\" alt=\"share\" />\n                          </span>\n                          Likes\n                        </a>\n                      </li>\n                      <div className=\"like_count\" style={{ marginRight: 10 }}>\n                        <span className=\"lft_cnt\" />\n                        <span\n                          className=\"mid_cnt\"\n                          id={`likePost_${val._id}_${\n                            JSON.parse(localStorage.getItem('LogInUser'))._id\n                          }`}\n                        >\n                          {val.like.length}\n                        </span>\n                        <span className=\"rit_cnt\" />\n                      </div>\n                      <li>\n                        <a\n                          href=\"javascript:void(0)\"\n                          onClick={() =>\n                            handleUnLike(\n                              val._id,\n                              JSON.parse(localStorage.getItem('LogInUser'))._id,\n                            )\n                          }\n                        >\n                          <span className=\"btn_icon\">\n                            <img src=\"images/icon_003.png\" alt=\"share\" />\n                          </span>\n                          Unlike\n                        </a>\n                      </li>\n                      <div className=\"like_count\">\n                        <span className=\"lft_cnt\" />\n                        <span\n                          className=\"mid_cnt \"\n                          id={`unlikePost_${val._id}_${\n                            JSON.parse(localStorage.getItem('LogInUser'))._id\n                          }`}\n                        >\n                          {val.unlike.length}\n                        </span>\n                        <span className=\"rit_cnt\" />\n                      </div>\n                    </ul>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))\n        : ''}\n    </>\n  )\n}\nexport default Post\n"]},"metadata":{},"sourceType":"module"}