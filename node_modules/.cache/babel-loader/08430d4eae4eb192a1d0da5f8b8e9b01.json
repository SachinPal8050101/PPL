{"ast":null,"code":"var _jsxFileName = \"/home/parteek/ppl/src/Component/Post.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\n\nfunction Post(props) {\n  let history = useHistory();\n  useEffect(() => {\n    if (!localStorage.getItem('Token')) {\n      history.push('./login');\n    }\n\n    getData();\n  }, []);\n  var skip = 0;\n\n  window.onscroll = function (ev) {\n    if (window.innerHeight + window.scrollY === document.body.offsetHeight) {\n      skip = skip + 2;\n    }\n  };\n\n  const getData = () => axios({\n    method: 'post',\n    url: 'http://localhost:5000/getPost',\n    data: {\n      skip: skip\n    }\n  }).then(result => {\n    props.setresultAllPost(result.data);\n  }); /// code for likes \n\n\n  var valForLike = false;\n  var valForunlike = false;\n\n  const handleLike = (postId, userId) => {\n    var value = document.getElementById(`likePost_${postId}_${userId}`).innerHTML;\n\n    if (valForLike === false) {\n      document.getElementById(`likePost_${postId}_${userId}`).innerHTML = parseInt(value) + 1;\n      valForLike = true;\n    } else {\n      document.getElementById(`likePost_${postId}_${userId}`).innerHTML = parseInt(value) - 1;\n      valForLike = false;\n    }\n\n    axios({\n      method: 'Post',\n      url: 'http://localhost:5000/like',\n      data: {\n        postId,\n        userId\n      }\n    }).then(result => {\n      props.setresultAllPost(result.data);\n    });\n  }; // code for unlike\n\n\n  const handleUnLike = (postId, userId) => {\n    var value = document.getElementById(`unlikePost_${postId}_${userId}`).innerHTML;\n\n    if (valForunlike === false) {\n      document.getElementById(`unlikePost_${postId}_${userId}`).innerHTML = parseInt(value) + 1;\n      valForunlike = true;\n    } else {\n      document.getElementById(`unlikePost_${postId}_${userId}`).innerHTML = parseInt(value) - 1;\n      valForunlike = false;\n    }\n\n    axios({\n      method: 'Post',\n      url: 'http://localhost:5000/unlike',\n      data: {\n        postId,\n        userId\n      }\n    }).then(result => {\n      props.setresultAllPost(result.data);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, props.resultAllPost.length !== 0 ? props.resultAllPost.map(val => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contnt_2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"div_a\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"div_title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, val.title), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btm_rgt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btm_arc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, val.category)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"div_top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"div_top_lft\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"images/img_6.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }), val.userId), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"div_top_rgt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"span_date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, val.date), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"span_time\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 4\n    }\n  }, val.time))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"div_image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: val.image,\n    alt: \"pet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"div_btm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btm_list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"btn_icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"images/icon_001.png\",\n    alt: \"share\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  })), \"Share\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"btn_icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"images/icon_002.png\",\n    alt: \"share\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  })), \"Flag\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"btn_icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"images/icon_004.png\",\n    alt: \"share\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  })), \"4 Comments\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"javascript:void(0)\",\n    onClick: () => handleLike(val._id, JSON.parse(localStorage.getItem('LogInUser'))._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"btn_icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"images/icon_003.png\",\n    alt: \"share\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 21\n    }\n  })), \"Likes\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"like_count\",\n    style: {\n      marginRight: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"lft_cnt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"mid_cnt\",\n    id: `likePost_${val._id}_${JSON.parse(localStorage.getItem('LogInUser'))._id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }, val.like.length), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"rit_cnt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"javascript:void(0)\",\n    onClick: () => handleUnLike(val._id, JSON.parse(localStorage.getItem('LogInUser'))._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"btn_icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"images/icon_003.png\",\n    alt: \"share\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 21\n    }\n  })), \"Unlike\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"like_count\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"lft_cnt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"mid_cnt \",\n    id: `unlikePost_${val._id}_${JSON.parse(localStorage.getItem('LogInUser'))._id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }, val.unlike.length), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"rit_cnt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 17\n    }\n  })))))))) : '');\n}\n\nexport default Post;","map":{"version":3,"sources":["/home/parteek/ppl/src/Component/Post.jsx"],"names":["React","useEffect","useState","useHistory","axios","Post","props","history","localStorage","getItem","push","getData","skip","window","onscroll","ev","innerHeight","scrollY","document","body","offsetHeight","method","url","data","then","result","setresultAllPost","valForLike","valForunlike","handleLike","postId","userId","value","getElementById","innerHTML","parseInt","handleUnLike","resultAllPost","length","map","val","title","category","date","time","image","_id","JSON","parse","marginRight","like","unlike"],"mappings":"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","sourcesContent":["import React,{useEffect,useState} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport axios from 'axios'\nfunction Post(props) {\n  let history=useHistory();\n  useEffect(() => {\n      if(!localStorage.getItem('Token'))\n      {\n        history.push('./login')\n      } \n      getData()\n  }, [])\n  var skip=0;\n  window.onscroll = function(ev) {\n    if ((window.innerHeight + window.scrollY) === document.body.offsetHeight) {\n         skip=skip+2;\n    }\n};\n \nconst getData=()=>axios({\n  method: 'post',\n  url:'http://localhost:5000/getPost',\n  data:{skip:skip}\n\n}).then(result=>{\n        props.setresultAllPost(result.data);\n            \n          });\n\n        /// code for likes \n   var valForLike=false\n   var valForunlike=false\nconst handleLike=(postId,userId)=>{\n  var value=document.getElementById(`likePost_${postId}_${userId}`).innerHTML\n  if(valForLike===false){\n  document.getElementById(`likePost_${postId}_${userId}`).innerHTML=parseInt(value)+1\n  valForLike=true;\n  }\n  else{\n    document.getElementById(`likePost_${postId}_${userId}`).innerHTML=parseInt(value)-1\n    valForLike=false;\n  }\n  axios({\n    method:'Post',\n    url:'http://localhost:5000/like',\n    data:{postId,userId}\n  }).then(result=>{\n     props.setresultAllPost(result.data)\n     \n  })\n}\n// code for unlike\nconst handleUnLike=(postId,userId)=>{\n  var value=document.getElementById(`unlikePost_${postId}_${userId}`).innerHTML\n  if(valForunlike===false){\n  document.getElementById(`unlikePost_${postId}_${userId}`).innerHTML=parseInt(value)+1\n  valForunlike=true;\n  }\n  else{\n    document.getElementById(`unlikePost_${postId}_${userId}`).innerHTML=parseInt(value)-1\n    valForunlike=false;\n  }\n  axios({\n    method:'Post',\n    url:'http://localhost:5000/unlike',\n    data:{postId,userId}\n  }).then(result=>{\n     props.setresultAllPost(result.data)\n    \n  })\n}\n\n\n\n \n  return (\n    <>\n   {\n    ((props.resultAllPost).length!==0)?props.resultAllPost.map(val=>\n      <div className=\"contnt_2\">\n      <div className=\"div_a\">\n        <div className=\"div_title\">\n         {val.title}\n        </div>\n        <div className=\"btm_rgt\">\n          <div className=\"btm_arc\">{val.category}</div>\n        </div>\n        <div className=\"div_top\">\n          <div className=\"div_top_lft\">\n            <img src=\"images/img_6.png\" />\n          {\n            val.userId\n          }  \n          \n          </div>\n          <div className=\"div_top_rgt\">\n      <span className=\"span_date\">{val.date}</span>\n   <span className=\"span_time\">{val.time}</span>\n          </div>\n        </div>\n        <div className=\"div_image\">\n          <img src={  val.image} alt=\"pet\" />\n        </div>\n        <div className=\"div_btm\">\n          <div className=\"btm_list\">\n            <ul>\n              <li>\n                <a href=\"#\">\n                  <span className=\"btn_icon\">\n                    <img src=\"images/icon_001.png\" alt=\"share\" />\n                  </span>\n                  Share\n                </a>\n              </li>\n              <li>\n                <a href=\"#\">\n                  <span className=\"btn_icon\">\n                    <img src=\"images/icon_002.png\" alt=\"share\" />\n                  </span>\n                  Flag\n                </a>\n              </li>\n              <li>\n                <a href=\"#\">\n                  <span className=\"btn_icon\">\n                    <img src=\"images/icon_004.png\" alt=\"share\" />\n                  </span>\n                  4 Comments\n                </a>\n              </li>\n              <li>\n                <a href=\"javascript:void(0)\" onClick={()=>handleLike(val._id,JSON.parse(localStorage.getItem('LogInUser'))._id)} >\n                  <span className=\"btn_icon\">\n                    <img src=\"images/icon_003.png\" alt=\"share\" />\n                  </span>\n                  Likes\n                </a>\n              </li>\n              <div className=\"like_count\" style={{ marginRight: 10 }}>\n                <span className=\"lft_cnt\" />\n        <span className=\"mid_cnt\"  id={`likePost_${val._id}_${JSON.parse(localStorage.getItem('LogInUser'))._id}`}>{val.like.length}</span>\n                <span className=\"rit_cnt\" />\n              </div>\n              <li>\n                <a href=\"javascript:void(0)\"  onClick={()=>handleUnLike(val._id,JSON.parse(localStorage.getItem('LogInUser'))._id)}>\n                  <span className=\"btn_icon\">\n                    <img src=\"images/icon_003.png\" alt=\"share\" />\n                  </span>\n                  Unlike\n                </a>\n              </li>\n              <div className=\"like_count\">\n                <span className=\"lft_cnt\" />\n        <span className=\"mid_cnt \" id={`unlikePost_${val._id}_${JSON.parse(localStorage.getItem('LogInUser'))._id}`}>{val.unlike.length}</span>\n                <span className=\"rit_cnt\" />\n              </div>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div> ) :'' \n   }\n</>\n  )\n}\nexport default Post\n"]},"metadata":{},"sourceType":"module"}